	@Test
	public void testCreateSimpleSortTestIndex() throws Exception {
		GitIndex index = new GitIndex(db);
		writeTrashFile("a/b", "data:a/b");
		writeTrashFile("a:b", "data:a:b");
		writeTrashFile("a.b", "data:a.b");
		index.add(trash, new File(trash, "a/b"));
		index.add(trash, new File(trash, "a:b"));
		index.add(trash, new File(trash, "a.b"));
		index.write();

		assertEquals("a/b", index.getEntry("a/b").getName());
		assertEquals("a:b", index.getEntry("a:b").getName());
		assertEquals("a.b", index.getEntry("a.b").getName());
		assertNull(index.getEntry("a*b"));

		// Repeat test for re-read index
		GitIndex indexr = new GitIndex(db);
		indexr.read();
		assertEquals("a/b", indexr.getEntry("a/b").getName());
		assertEquals("a:b", indexr.getEntry("a:b").getName());
		assertEquals("a.b", indexr.getEntry("a.b").getName());
		assertNull(indexr.getEntry("a*b"));

		if (canrungitstatus)
			assertEquals(0, system(trash, "git status"));
	}

