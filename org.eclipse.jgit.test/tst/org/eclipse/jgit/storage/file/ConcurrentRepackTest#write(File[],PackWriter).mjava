	private static void write(final File[] files, final PackWriter pw)
			throws IOException {
		final long begin = files[0].getParentFile().lastModified();
		NullProgressMonitor m = NullProgressMonitor.INSTANCE;
		OutputStream out;

		out = new SafeBufferedOutputStream(new FileOutputStream(files[0]));
		try {
			pw.writePack(m, m, out);
		} finally {
			out.close();
		}

		out = new SafeBufferedOutputStream(new FileOutputStream(files[1]));
		try {
			pw.writeIndex(out);
		} finally {
			out.close();
		}

		touch(begin, files[0].getParentFile());
	}

