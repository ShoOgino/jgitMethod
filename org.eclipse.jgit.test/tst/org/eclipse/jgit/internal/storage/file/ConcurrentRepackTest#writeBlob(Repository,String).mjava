	private RevObject writeBlob(final Repository repo, final String data)
			throws IOException {
		final RevWalk revWalk = new RevWalk(repo);
		final byte[] bytes = Constants.encode(data);
		final ObjectInserter inserter = repo.newObjectInserter();
		final ObjectId id;
		try {
			id = inserter.insert(Constants.OBJ_BLOB, bytes);
			inserter.flush();
		} finally {
			inserter.release();
		}
		try {
			parse(id);
			fail("Object " + id.name() + " should not exist in test repository");
		} catch (MissingObjectException e) {
			// Ok
		}
		return revWalk.lookupBlob(id);
	}

