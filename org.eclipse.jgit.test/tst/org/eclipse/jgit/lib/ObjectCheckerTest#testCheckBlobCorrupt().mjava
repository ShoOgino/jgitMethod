	@Test
	public void testCheckBlobCorrupt() throws CorruptObjectException {
		checker = new ObjectChecker() {
			@Override
			public void checkBlob(byte[] raw) throws CorruptObjectException {
				String in = decode(raw);
				if (in.contains("secret_key")) {
					throw new CorruptObjectException("don't add a secret key");
				}
			}
		};
		thrown.expect(CorruptObjectException.class);
		checker.check(OBJ_BLOB, encodeASCII("key = \"secret_key\""));
	}

