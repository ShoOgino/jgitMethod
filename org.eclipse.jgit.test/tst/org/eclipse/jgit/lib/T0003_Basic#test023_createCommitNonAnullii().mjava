	public void test023_createCommitNonAnullii() throws IOException {
		final ObjectId emptyId = new ObjectWriter(db).writeBlob(new byte[0]);
		final Tree almostEmptyTree = new Tree(db);
		almostEmptyTree.addEntry(new FileTreeEntry(almostEmptyTree, emptyId, "empty".getBytes(), false));
		final ObjectId almostEmptyTreeId = new ObjectWriter(db).writeTree(almostEmptyTree);
		Commit commit = new Commit(db);
		commit.setTreeId(almostEmptyTreeId);
		commit.setAuthor(new PersonIdent("Joe H\u00e4cker","joe@example.com",4294967295000L,60));
		commit.setCommitter(new PersonIdent("Joe Hacker","joe2@example.com",4294967295000L,60));
		commit.setEncoding("UTF-8");
		commit.setMessage("\u00dcbergeeks");
		ObjectId cid = new ObjectWriter(db).writeCommit(commit);
		assertEquals("4680908112778718f37e686cbebcc912730b3154", cid.name());
		Commit loadedCommit = db.mapCommit(cid);
		assertNotSame(loadedCommit, commit);
		assertEquals(commit.getMessage(), loadedCommit.getMessage());
	}

