	@SuppressWarnings("boxing")
	public void test(int pathSize, int expectedWalkCount, String... filters)
			throws MissingObjectException, IncorrectObjectTypeException,
			IOException {
		setup(pathSize, -1, filters);
		data += pathSize + "\t" + filters.length + "\t";
		long t1 = System.nanoTime();
		TreeWalk tw = new TreeWalk((ObjectReader) null);
		tw.reset();
		tw.addTree(new DirCacheIterator(dc));
		tw.setFilter(pf);
		tw.setRecursive(true);
		int n = 0;
		while (tw.next())
			n++;
		long t2 = System.nanoTime();
		data += (t2 - t1) / 1E9;
		assertEquals(expectedWalkCount, n);

		// Walk time should be (much) faster then setup time
		assertThat(t2 - t1, lessThan(tInit / 2));
	}

