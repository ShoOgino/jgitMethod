	public void testNonRecursiveTreeWalk() throws Exception {
		TreeWalk treeWalk = new TreeWalk(db);
		treeWalk.setRecursive(false);
		treeWalk.addTree(commit.getTree());
		treeWalk.addTree(new DirCacheIterator(db.readDirCache()));
		treeWalk.addTree(new FileTreeIterator(db));
		treeWalk.setFilter(new IndexDiffFilter(1, 2));
		assertTrue(treeWalk.next());
		assertEquals("folder", treeWalk.getPathString());
		assertTrue(treeWalk.next());
		assertEquals("folder", treeWalk.getPathString());
		assertTrue(treeWalk.isSubtree());
		treeWalk.enterSubtree();
		assertTrue(treeWalk.next());
		assertEquals("folder/file", treeWalk.getPathString());
		assertFalse(treeWalk.next());
	}

