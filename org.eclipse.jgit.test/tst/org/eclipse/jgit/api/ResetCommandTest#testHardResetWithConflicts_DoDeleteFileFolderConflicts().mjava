	@Test
	public void testHardResetWithConflicts_DoDeleteFileFolderConflicts()
			throws JGitInternalException,
			AmbiguousObjectException, IOException, GitAPIException {
		setupRepository();
		writeTrashFile("d/c.txt", "x");
		git.add().addFilepattern("d/c.txt").call();
		FileUtils.delete(new File(db.getWorkTree(), "d"), FileUtils.RECURSIVE);
		writeTrashFile("d", "y");

		git.reset().setMode(ResetType.HARD).setRef(Constants.HEAD)
				.call();
		assertFalse(new File(db.getWorkTree(), "d").exists());
	}

