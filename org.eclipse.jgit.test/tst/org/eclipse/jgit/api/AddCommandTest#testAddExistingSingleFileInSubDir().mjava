	public void testAddExistingSingleFileInSubDir() throws IOException, NoFilepatternException {
		new File(db.getWorkTree(), "sub").mkdir();
		File file = new File(db.getWorkTree(), "sub/a.txt");
		file.createNewFile();
		PrintWriter writer = new PrintWriter(file);
		writer.print("content");
		writer.close();

		Git git = new Git(db);

		git.add().addFilepattern("sub/a.txt").call();

		assertEquals(
				"[sub/a.txt, mode:100644, content:content]",
				indexState(CONTENT));
	}

