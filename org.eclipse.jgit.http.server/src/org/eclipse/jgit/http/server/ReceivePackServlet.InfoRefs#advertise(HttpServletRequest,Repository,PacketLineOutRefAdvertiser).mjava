		@Override
		protected void advertise(HttpServletRequest req, Repository db,
				PacketLineOutRefAdvertiser pck) throws IOException,
				ServiceNotEnabledException, ServiceNotAuthorizedException {
			ReceivePack rp = receivePackFactory.create(req, db);
			try {
				rp.sendAdvertisedRefs(pck);
			} finally {
				rp.getRevWalk().release();
			}
		}

