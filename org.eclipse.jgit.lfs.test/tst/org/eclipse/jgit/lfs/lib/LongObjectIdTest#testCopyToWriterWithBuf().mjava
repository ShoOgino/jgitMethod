	@Test
	public void testCopyToWriterWithBuf() throws IOException {
		AnyLongObjectId id1 = LongObjectIdTestUtils.hash("test");
		ByteArrayOutputStream os = new ByteArrayOutputStream(64);
		OutputStreamWriter w = new OutputStreamWriter(os, Constants.CHARSET);
		char[] buf = new char[64];
		id1.copyTo(buf, w);
		w.close();
		assertEquals(id1, LongObjectId.fromString(os.toByteArray(), 0));
	}

