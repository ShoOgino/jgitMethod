	private static final int bits(int newSize) {
		if (newSize < 4096)
			throw new IllegalArgumentException("Invalid window size");
		if (Integer.bitCount(newSize) != 1)
			throw new IllegalArgumentException("Window size must be power of 2");
		return Integer.numberOfTrailingZeros(newSize);
	}

