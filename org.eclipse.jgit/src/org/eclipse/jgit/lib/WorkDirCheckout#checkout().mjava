	/**
	 * Execute this checkout
	 *
	 * @throws IOException
	 */
	public void checkout() throws IOException {
		if (head == null)
			prescanOneTree();
		else prescanTwoTrees();
		if (!conflicts.isEmpty()) {
			if (failOnConflict) {
				String[] entries = conflicts.toArray(new String[0]);
				throw new CheckoutConflictException(entries);
			}
		}
		
		cleanUpConflicts();
		if (head == null)
			checkoutOutIndexNoHead();
		else checkoutTwoTrees();
	}

