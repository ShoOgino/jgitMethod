	/**
	 * Initialize a reference to an on-disk object directory.
	 *
	 * @param cfg
	 *            configuration this directory consults for write settings.
	 * @param dir
	 *            the location of the <code>objects</code> directory.
	 * @param alternateObjectDir
	 *            a list of alternate object directories
	 * @param fs
	 *            the file system abstraction which will be necessary to
	 *            perform certain file system operations.
	 */
	public ObjectDirectory(final Config cfg, final File dir, File[] alternateObjectDir, FS fs) {
		config = cfg;
		objects = dir;
		this.alternateObjectDir = alternateObjectDir;
		infoDirectory = new File(objects, "info");
		packDirectory = new File(objects, "pack");
		alternatesFile = new File(infoDirectory, "alternates");
		packList = new AtomicReference<PackList>(NO_PACKS);
		this.fs = fs;
	}

