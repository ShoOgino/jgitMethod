	/**
	 * Return the information stored in the file $GIT_DIR/MERGE_MSG. In this
	 * file operations triggering a merge will store a template for the commit
	 * message of the merge commit.
	 *
	 * @return a String containing the content of the MERGE_MSG file or
	 *         {@code null} if this file doesn't exist
	 * @throws IOException
	 * @throws IllegalStateException
	 *             if the repository is "bare"
	 */
	public String readMergeCommitMsg() throws IOException {
		if (isBare() || getDirectory() == null)
			throw new IllegalStateException(
					JGitText.get().bareRepositoryNoWorkdirAndIndex);

		File mergeMsgFile = new File(getDirectory(), Constants.MERGE_MSG);
		try {
			return new String(IO.readFully(mergeMsgFile));
		} catch (FileNotFoundException e) {
			// MERGE_MSG file has disappeared in the meantime
			// ignore it
			return null;
		}
	}

