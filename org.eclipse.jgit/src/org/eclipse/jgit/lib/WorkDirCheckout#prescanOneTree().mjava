	void prescanOneTree() throws IOException {
		new IndexTreeWalker(index, merge, root, new AbstractIndexTreeVisitor() {
			public void visitEntry(TreeEntry m, Entry i, File file) throws IOException {
				if (m != null) {
					if (!file.isFile()) {
						checkConflictsWithFile(file);
					}
				} else {
					if (file.exists())  {
						removed.add(i.getName());
						conflicts.remove(i.getName());
					}
				}
			}
		}).walk();
		conflicts.removeAll(removed);
	}

