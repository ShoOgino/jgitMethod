	private void requireLock() {
		if (os == null) {
			unlock();
			throw new IllegalStateException("Lock on " + ref + " not held.");
		}
	}

