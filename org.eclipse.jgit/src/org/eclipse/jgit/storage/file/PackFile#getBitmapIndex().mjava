	synchronized PackBitmapIndex getBitmapIndex() throws IOException {
		if (bitmapIdx == null && hasExt(BITMAP_INDEX)) {
			final PackBitmapIndex idx = PackBitmapIndex.open(
					extFile(BITMAP_INDEX), idx(), getReverseIdx());

			if (packChecksum == null)
				packChecksum = idx.packChecksum;
			else if (!Arrays.equals(packChecksum, idx.packChecksum))
				throw new PackMismatchException(
						JGitText.get().packChecksumMismatch);

			bitmapIdx = idx;
		}
		return bitmapIdx;
	}

