	private static void checkValidPathSegment(CanonicalTreeParser t)
			throws InvalidPathException {
		boolean isWindows = SystemReader.getInstance().isWindows();
		boolean isOSX = SystemReader.getInstance().isMacOS();
		boolean ignCase = isOSX || isWindows;

		int ptr = t.getNameOffset();
		byte[] raw = t.getEntryPathBuffer();
		int end = ptr + t.getNameLength();

		checkValidPathSegment(isWindows, ignCase, raw, ptr, end,
				t.getEntryPathString());
	}

