	private void receivePack(final ProgressMonitor monitor) throws IOException {
		final IndexPack ip;

		InputStream input = in;
		if (sideband)
			input = new SideBandInputStream(input, monitor);

		ip = IndexPack.create(local, input);
		ip.setFixThin(thinPack);
		ip.setObjectChecking(transport.isCheckFetchedObjects());
		ip.index(monitor);
		packLock = ip.renameAndOpenPack(lockMessage);
	}

