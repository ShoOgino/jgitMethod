			final long getSnake(int d, int k) {
// TODO: remove
if (k < beginK || k > endK)
	throw new RuntimeException("k " + k + " not in " + beginK + " - " + endK);
				return snake.get(getIndex(d, k));
			}

