	private void resetIndex(RevCommit commit) throws IOException {
		DirCache dc = null;
		try {
			dc = repo.lockDirCache();
			dc.clear();
			DirCacheBuilder dcb = dc.builder();
			dcb.addTree(new byte[0], 0, repo.newObjectReader(),
					commit.getTree());
			dcb.commit();
		} catch (IOException e) {
			throw e;
		} finally {
			if (dc != null)
				dc.unlock();
		}
	}

