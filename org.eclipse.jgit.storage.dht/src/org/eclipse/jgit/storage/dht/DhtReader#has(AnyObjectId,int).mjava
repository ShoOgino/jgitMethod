	@Override
	public boolean has(AnyObjectId objId, int typeHint) throws IOException {
		if (objId instanceof RefData.IdWithChunk)
			return true;

		if (recentChunks.has(repo, objId))
			return true;

		if (repository.getRefDatabase().findChunk(objId) != null)
			return true;

		// TODO(spearce) This is expensive. Is it worthwhile?
		if (ChunkCache.get().find(repo, objId) != null)
			return true;

		return !find(objId).isEmpty();
	}

