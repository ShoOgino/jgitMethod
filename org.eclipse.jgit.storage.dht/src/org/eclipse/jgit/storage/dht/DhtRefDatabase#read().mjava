	private RefCache read() throws DhtException, TimeoutException {
		RefList.Builder<DhtRef> id = new RefList.Builder<DhtRef>();
		RefList.Builder<DhtRef> sym = new RefList.Builder<DhtRef>();
		ObjectIdSubclassMap<IdWithChunk> hints = new ObjectIdSubclassMap<IdWithChunk>();

		for (Map.Entry<RefKey, RefData> e : scan()) {
			DhtRef ref = fromData(e.getKey().getName(), e.getValue());

			if (ref.isSymbolic())
				sym.add(ref);
			id.add(ref);

			if (ref.getObjectId() instanceof IdWithChunk
					&& !hints.contains(ref.getObjectId()))
				hints.add((IdWithChunk) ref.getObjectId());
			if (ref.getPeeledObjectId() instanceof IdWithChunk
					&& !hints.contains(ref.getPeeledObjectId()))
				hints.add((IdWithChunk) ref.getPeeledObjectId());
		}

		id.sort();
		sym.sort();

		return new RefCache(id.toRefList(), sym.toRefList(), hints);
	}

