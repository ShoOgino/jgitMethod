		private void ensureSpace(int need) {
			if (buf.length - ptr < need) {
				byte[] n = new byte[Math.max(ptr + need, buf.length * 2)];
				System.arraycopy(buf, 0, n, 0, ptr);
				buf = n;
			}
		}

