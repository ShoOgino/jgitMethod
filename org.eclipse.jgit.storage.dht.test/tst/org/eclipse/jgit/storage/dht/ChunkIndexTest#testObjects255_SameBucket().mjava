	@Test
	public void testObjects255_SameBucket() throws DhtException {
		int[] ints = new int[255];
		for (int i = 0; i < 255; i++)
			ints[i] = i;
		List<PackedObjectInfo> objs = objects(ints);
		ChunkIndex idx = index(objs);

		assertEquals(header(1, 2), header(objs));
		assertEquals(255, idx.getObjectCount());
		assertEquals(2 + 256 + 255 * 20 + 255 * 2 //
				+ 12 + 4 * 256, idx.getIndexSize());
		assertTrue(isSorted(objs));

		for (int i = 0; i < objs.size(); i++) {
			assertEquals(objs.get(i), idx.getObjectId(i));
			assertEquals(objs.get(i).getOffset(), idx.getOffset(i));
			assertEquals(objs.get(i).getOffset(), idx.findOffset(objs.get(i)));
		}
	}

