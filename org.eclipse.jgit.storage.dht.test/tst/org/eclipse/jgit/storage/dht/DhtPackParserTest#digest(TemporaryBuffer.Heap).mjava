	private void digest(TemporaryBuffer.Heap buf) throws IOException {
		MessageDigest md = newMessageDigest();
		md.update(buf.toByteArray());
		buf.write(md.digest());
	}

