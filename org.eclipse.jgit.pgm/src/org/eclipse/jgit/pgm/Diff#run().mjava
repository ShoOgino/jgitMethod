	@Override
	protected void run() throws Exception {
		List<DiffEntry> files = scan();

		if (showNameAndStatusOnly) {
			nameStatus(out, files);
			out.flush();

		} else {
			fmt.setRepository(db);
			fmt.format(files);
			fmt.flush();
		}
	}

