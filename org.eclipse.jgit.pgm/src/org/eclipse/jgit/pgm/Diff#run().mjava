	@Override
	protected void run() throws Exception {
		List<DiffEntry> files = scan();

		if (showNameAndStatusOnly) {
			nameStatus(out, files);
			out.flush();

		} else {
			diffFmt.setRepository(db);
			diffFmt.format(files);
			diffFmt.flush();
		}
	}

