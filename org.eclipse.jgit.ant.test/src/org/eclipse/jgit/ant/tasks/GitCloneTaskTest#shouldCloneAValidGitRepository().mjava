	@Test
	public void shouldCloneAValidGitRepository() throws Exception {
		FileRepository repo = createBareRepository();
		File directory = repo.getDirectory();
		task.setUri("file://" + directory);
		File dest = createTempFile();
		task.setDest(dest);
		task.execute();

		assertTrue(RepositoryCache.FileKey.isGitRepository(new File(dest, ".git"), FS.DETECTED));
	}

